import{j as c}from"./jsx-runtime.D_L90wQp.js";import{r as s,R as I,b as be,a as xe}from"./index.DL6A1vOd.js";function N(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function B(e,t=[]){let n=[];function o(r,i){const l=s.createContext(i),d=n.length;n=[...n,i];function u(f){const{scope:v,children:g,...m}=f,b=v?.[e][d]||l,S=s.useMemo(()=>m,Object.values(m));return c.jsx(b.Provider,{value:S,children:g})}function p(f,v){const g=v?.[e][d]||l,m=s.useContext(g);if(m)return m;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${r}\``)}return u.displayName=r+"Provider",[u,p]}const a=()=>{const r=n.map(i=>s.createContext(i));return function(l){const d=l?.[e]||r;return s.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[o,Se(a,...t)]}function Se(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(r){const i=o.reduce((l,{useScope:d,scopeName:u})=>{const f=d(r)[`__scope${u}`];return{...l,...f}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Re(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function H(...e){return t=>e.forEach(n=>Re(n,t))}function j(...e){return s.useCallback(H(...e),e)}var P=s.forwardRef((e,t)=>{const{children:n,...o}=e,a=s.Children.toArray(n),r=a.find(Ce);if(r){const i=r.props.children,l=a.map(d=>d===r?s.Children.count(i)>1?s.Children.only(null):s.isValidElement(i)?i.props.children:null:d);return c.jsx(O,{...o,ref:t,children:s.isValidElement(i)?s.cloneElement(i,void 0,l):null})}return c.jsx(O,{...o,ref:t,children:n})});P.displayName="Slot";var O=s.forwardRef((e,t)=>{const{children:n,...o}=e;if(s.isValidElement(n)){const a=Ae(n);return s.cloneElement(n,{...Ie(o,n.props),ref:t?H(t,a):a})}return s.Children.count(n)>1?s.Children.only(null):null});O.displayName="SlotClone";var Ne=({children:e})=>c.jsx(c.Fragment,{children:e});function Ce(e){return s.isValidElement(e)&&e.type===Ne}function Ie(e,t){const n={...t};for(const o in t){const a=e[o],r=t[o];/^on[A-Z]/.test(o)?a&&r?n[o]=(...l)=>{r(...l),a(...l)}:a&&(n[o]=a):o==="style"?n[o]={...a,...r}:o==="className"&&(n[o]=[a,r].filter(Boolean).join(" "))}return{...e,...n}}function Ae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ee(e){const t=e+"CollectionProvider",[n,o]=B(t),[a,r]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:m,children:b}=g,S=I.useRef(null),h=I.useRef(new Map).current;return c.jsx(a,{scope:m,itemMap:h,collectionRef:S,children:b})};i.displayName=t;const l=e+"CollectionSlot",d=I.forwardRef((g,m)=>{const{scope:b,children:S}=g,h=r(l,b),x=j(m,h.collectionRef);return c.jsx(P,{ref:x,children:S})});d.displayName=l;const u=e+"CollectionItemSlot",p="data-radix-collection-item",f=I.forwardRef((g,m)=>{const{scope:b,children:S,...h}=g,x=I.useRef(null),A=j(m,x),E=r(u,b);return I.useEffect(()=>(E.itemMap.set(x,{ref:x,...h}),()=>void E.itemMap.delete(x))),c.jsx(P,{[p]:"",ref:A,children:S})});f.displayName=u;function v(g){const m=r(e+"CollectionConsumer",g);return I.useCallback(()=>{const S=m.collectionRef.current;if(!S)return[];const h=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(m.itemMap.values()).sort((E,y)=>h.indexOf(E.ref.current)-h.indexOf(y.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:i,Slot:d,ItemSlot:f},v,o]}var D=globalThis?.document?s.useLayoutEffect:()=>{},Te=be.useId||(()=>{}),ye=0;function Y(e){const[t,n]=s.useState(Te());return D(()=>{e||n(o=>o??String(ye++))},[e]),e||(t?`radix-${t}`:"")}var we=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],T=we.reduce((e,t)=>{const n=s.forwardRef((o,a)=>{const{asChild:r,...i}=o,l=r?P:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...i,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function U(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...n)=>t.current?.(...n),[])}function q({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,a]=je({defaultProp:t,onChange:n}),r=e!==void 0,i=r?e:o,l=U(n),d=s.useCallback(u=>{if(r){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[r,e,a,l]);return[i,d]}function je({defaultProp:e,onChange:t}){const n=s.useState(e),[o]=n,a=s.useRef(o),r=U(t);return s.useEffect(()=>{a.current!==o&&(r(o),a.current=o)},[o,a,r]),n}var Pe=s.createContext(void 0);function z(e){const t=s.useContext(Pe);return e||t||"ltr"}var F="rovingFocusGroup.onEntryFocus",Me={bubbles:!1,cancelable:!0},M="RovingFocusGroup",[L,Z,_e]=Ee(M),[Fe,J]=B(M,[_e]),[Oe,De]=Fe(M),Q=s.forwardRef((e,t)=>c.jsx(L.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(L.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Le,{...e,ref:t})})}));Q.displayName=M;var Le=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:r,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:p=!1,...f}=e,v=s.useRef(null),g=j(t,v),m=z(r),[b=null,S]=q({prop:i,defaultProp:l,onChange:d}),[h,x]=s.useState(!1),A=U(u),E=Z(n),y=s.useRef(!1),[me,V]=s.useState(0);return s.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(F,A),()=>R.removeEventListener(F,A)},[A]),c.jsx(Oe,{scope:n,orientation:o,dir:m,loop:a,currentTabStopId:b,onItemFocus:s.useCallback(R=>S(R),[S]),onItemShiftTab:s.useCallback(()=>x(!0),[]),onFocusableItemAdd:s.useCallback(()=>V(R=>R+1),[]),onFocusableItemRemove:s.useCallback(()=>V(R=>R-1),[]),children:c.jsx(T.div,{tabIndex:h||me===0?-1:0,"data-orientation":o,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:N(e.onMouseDown,()=>{y.current=!0}),onFocus:N(e.onFocus,R=>{const pe=!y.current;if(R.target===R.currentTarget&&pe&&!h){const $=new CustomEvent(F,Me);if(R.currentTarget.dispatchEvent($),!$.defaultPrevented){const _=E().filter(C=>C.focusable),ve=_.find(C=>C.active),ge=_.find(C=>C.id===b),he=[ve,ge,..._].filter(Boolean).map(C=>C.ref.current);te(he,p)}}y.current=!1}),onBlur:N(e.onBlur,()=>x(!1))})})}),X="RovingFocusGroupItem",ee=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:r,...i}=e,l=Y(),d=r||l,u=De(X,n),p=u.currentTabStopId===d,f=Z(n),{onFocusableItemAdd:v,onFocusableItemRemove:g}=u;return s.useEffect(()=>{if(o)return v(),()=>g()},[o,v,g]),c.jsx(L.ItemSlot,{scope:n,id:d,focusable:o,active:a,children:c.jsx(T.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:N(e.onMouseDown,m=>{o?u.onItemFocus(d):m.preventDefault()}),onFocus:N(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:N(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const b=Ge(m,u.orientation,u.dir);if(b!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let h=f().filter(x=>x.focusable).map(x=>x.ref.current);if(b==="last")h.reverse();else if(b==="prev"||b==="next"){b==="prev"&&h.reverse();const x=h.indexOf(m.currentTarget);h=u.loop?ke(h,x+1):h.slice(x+1)}setTimeout(()=>te(h))}})})})});ee.displayName=X;var Be={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ue(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ge(e,t,n){const o=Ue(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Be[o]}function te(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function ke(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Ve=Q,$e=ee;function Ke(e,t){return s.useReducer((n,o)=>t[n][o]??n,e)}var ne=e=>{const{present:t,children:n}=e,o=We(t),a=typeof n=="function"?n({present:o.isPresent}):s.Children.only(n),r=j(o.ref,He(a));return typeof n=="function"||o.isPresent?s.cloneElement(a,{ref:r}):null};ne.displayName="Presence";function We(e){const[t,n]=s.useState(),o=s.useRef({}),a=s.useRef(e),r=s.useRef("none"),i=e?"mounted":"unmounted",[l,d]=Ke(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const u=w(o.current);r.current=l==="mounted"?u:"none"},[l]),D(()=>{const u=o.current,p=a.current;if(p!==e){const v=r.current,g=w(u);e?d("MOUNT"):g==="none"||u?.display==="none"?d("UNMOUNT"):d(p&&v!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),D(()=>{if(t){const u=f=>{const g=w(o.current).includes(f.animationName);f.target===t&&g&&xe.flushSync(()=>d("ANIMATION_END"))},p=f=>{f.target===t&&(r.current=w(o.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:s.useCallback(u=>{u&&(o.current=getComputedStyle(u)),n(u)},[])}}function w(e){return e?.animationName||"none"}function He(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var G="Tabs",[Ye,et]=B(G,[J]),oe=J(),[qe,k]=Ye(G),re=s.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:a,defaultValue:r,orientation:i="horizontal",dir:l,activationMode:d="automatic",...u}=e,p=z(l),[f,v]=q({prop:o,onChange:a,defaultProp:r});return c.jsx(qe,{scope:n,baseId:Y(),value:f,onValueChange:v,orientation:i,dir:p,activationMode:d,children:c.jsx(T.div,{dir:p,"data-orientation":i,...u,ref:t})})});re.displayName=G;var se="TabsList",ae=s.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0,...a}=e,r=k(se,n),i=oe(n);return c.jsx(Ve,{asChild:!0,...i,orientation:r.orientation,dir:r.dir,loop:o,children:c.jsx(T.div,{role:"tablist","aria-orientation":r.orientation,...a,ref:t})})});ae.displayName=se;var ce="TabsTrigger",ie=s.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:a=!1,...r}=e,i=k(ce,n),l=oe(n),d=de(i.baseId,o),u=fe(i.baseId,o),p=o===i.value;return c.jsx($e,{asChild:!0,...l,focusable:!a,active:p,children:c.jsx(T.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":u,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...r,ref:t,onMouseDown:N(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(o):f.preventDefault()}),onKeyDown:N(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(o)}),onFocus:N(e.onFocus,()=>{const f=i.activationMode!=="manual";!p&&!a&&f&&i.onValueChange(o)})})})});ie.displayName=ce;var ue="TabsContent",le=s.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:a,children:r,...i}=e,l=k(ue,n),d=de(l.baseId,o),u=fe(l.baseId,o),p=o===l.value,f=s.useRef(p);return s.useEffect(()=>{const v=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(v)},[]),c.jsx(ne,{present:a||p,children:({present:v})=>c.jsx(T.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:v&&r})})});le.displayName=ue;function de(e,t){return`${e}-trigger-${t}`}function fe(e,t){return`${e}-content-${t}`}var ze=re,Ze=ae,K=ie,W=le;const tt=e=>{const{images:t,verses:n}=e,o=s.useMemo(()=>new URLSearchParams(window.location.search).get("tab"),[]),a=r=>{const i=new URL(window.location.href);i.searchParams.set("tab",r),window.history.pushState(null,"",i.toString())};return c.jsxs(ze,{className:"tabbed-document-index",defaultValue:o||"verses",onValueChange:a,children:[c.jsxs(Ze,{className:"tabs-list",children:[c.jsxs(K,{value:"verses",children:["Sanskrit Verses (",n.length,")"]}),c.jsxs(K,{value:"images",children:["Images (",t.length,")"]})]}),c.jsx(W,{className:"tabs-content",value:"verses",children:c.jsxs("ul",{children:[c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 1."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 2."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 3."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 4."}),n.map(r=>c.jsxs("li",{children:[c.jsx("a",{href:`verse/${r.slug}`,children:r.title}),r.annotations===0&&c.jsx("span",{className:"work-in-progress",children:"WORK IN PROGRESS"})]},r.slug)),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 6."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 7."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 8."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 9."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 10."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 11."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 12."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 13."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 14."}),c.jsx("li",{className:"disabled",children:"Aśvaghoṣa: Buddhacarita. Sarga 15."})]})}),c.jsx(W,{className:"tabs-content",value:"images",children:c.jsx("ul",{children:t.map(r=>c.jsxs("li",{children:[c.jsx("a",{href:`image/${r.slug}`,children:r.title}),r.annotations===0&&c.jsx("span",{className:"work-in-progress",children:"WORK IN PROGRESS"})]},r.slug))})})]})};export{tt as TabbedDocumentIndex};
