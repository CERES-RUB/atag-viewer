import{j as l}from"./jsx-runtime.DHyoM1g7.js";import{r as s,R as N,a as he,b as Re}from"./index.BLZuVVrN.js";function S(e,t,{checkForDefaultPrevented:n=!0}={}){return function(c){if(e?.(c),n===!1||!c.defaultPrevented)return t?.(c)}}function U(e,t=[]){let n=[];function o(r,a){const u=s.createContext(a),d=n.length;n=[...n,a];function i(f){const{scope:v,children:g,...m}=f,h=v?.[e][d]||u,C=s.useMemo(()=>m,Object.values(m));return l.jsx(h.Provider,{value:C,children:g})}function p(f,v){const g=v?.[e][d]||u,m=s.useContext(g);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${r}\``)}return i.displayName=r+"Provider",[i,p]}const c=()=>{const r=n.map(a=>s.createContext(a));return function(u){const d=u?.[e]||r;return s.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return c.scopeName=e,[o,Ce(c,...t)]}function Ce(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(r){const a=o.reduce((u,{useScope:d,scopeName:i})=>{const f=d(r)[`__scope${i}`];return{...u,...f}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function xe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function H(...e){return t=>e.forEach(n=>xe(n,t))}function P(...e){return s.useCallback(H(...e),e)}var M=s.forwardRef((e,t)=>{const{children:n,...o}=e,c=s.Children.toArray(n),r=c.find(Ie);if(r){const a=r.props.children,u=c.map(d=>d===r?s.Children.count(a)>1?s.Children.only(null):s.isValidElement(a)?a.props.children:null:d);return l.jsx(j,{...o,ref:t,children:s.isValidElement(a)?s.cloneElement(a,void 0,u):null})}return l.jsx(j,{...o,ref:t,children:n})});M.displayName="Slot";var j=s.forwardRef((e,t)=>{const{children:n,...o}=e;if(s.isValidElement(n)){const c=Ee(n);return s.cloneElement(n,{...Ne(o,n.props),ref:t?H(t,c):c})}return s.Children.count(n)>1?s.Children.only(null):null});j.displayName="SlotClone";var Se=({children:e})=>l.jsx(l.Fragment,{children:e});function Ie(e){return s.isValidElement(e)&&e.type===Se}function Ne(e,t){const n={...t};for(const o in t){const c=e[o],r=t[o];/^on[A-Z]/.test(o)?c&&r?n[o]=(...u)=>{r(...u),c(...u)}:c&&(n[o]=c):o==="style"?n[o]={...c,...r}:o==="className"&&(n[o]=[c,r].filter(Boolean).join(" "))}return{...e,...n}}function Ee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Te(e){const t=e+"CollectionProvider",[n,o]=U(t),[c,r]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:m,children:h}=g,C=N.useRef(null),b=N.useRef(new Map).current;return l.jsx(c,{scope:m,itemMap:b,collectionRef:C,children:h})};a.displayName=t;const u=e+"CollectionSlot",d=N.forwardRef((g,m)=>{const{scope:h,children:C}=g,b=r(u,h),R=P(m,b.collectionRef);return l.jsx(M,{ref:R,children:C})});d.displayName=u;const i=e+"CollectionItemSlot",p="data-radix-collection-item",f=N.forwardRef((g,m)=>{const{scope:h,children:C,...b}=g,R=N.useRef(null),E=P(m,R),T=r(i,h);return N.useEffect(()=>(T.itemMap.set(R,{ref:R,...b}),()=>void T.itemMap.delete(R))),l.jsx(M,{[p]:"",ref:E,children:C})});f.displayName=i;function v(g){const m=r(e+"CollectionConsumer",g);return N.useCallback(()=>{const C=m.collectionRef.current;if(!C)return[];const b=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(m.itemMap.values()).sort((T,A)=>b.indexOf(T.ref.current)-b.indexOf(A.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:d,ItemSlot:f},v,o]}var D=globalThis?.document?s.useLayoutEffect:()=>{},ye=he.useId||(()=>{}),Ae=0;function Y(e){const[t,n]=s.useState(ye());return D(()=>{e||n(o=>o??String(Ae++))},[e]),e||(t?`radix-${t}`:"")}var we=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],y=we.reduce((e,t)=>{const n=s.forwardRef((o,c)=>{const{asChild:r,...a}=o,u=r?M:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...a,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function G(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...n)=>t.current?.(...n),[])}function q({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,c]=Pe({defaultProp:t,onChange:n}),r=e!==void 0,a=r?e:o,u=G(n),d=s.useCallback(i=>{if(r){const f=typeof i=="function"?i(e):i;f!==e&&u(f)}else c(i)},[r,e,c,u]);return[a,d]}function Pe({defaultProp:e,onChange:t}){const n=s.useState(e),[o]=n,c=s.useRef(o),r=G(t);return s.useEffect(()=>{c.current!==o&&(r(o),c.current=o)},[o,c,r]),n}var Me=s.createContext(void 0);function z(e){const t=s.useContext(Me);return e||t||"ltr"}var O="rovingFocusGroup.onEntryFocus",_e={bubbles:!1,cancelable:!0},_="RovingFocusGroup",[L,Z,Fe]=Te(_),[Oe,J]=U(_,[Fe]),[je,De]=Oe(_),Q=s.forwardRef((e,t)=>l.jsx(L.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(L.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Le,{...e,ref:t})})}));Q.displayName=_;var Le=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:c=!1,dir:r,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:i,preventScrollOnEntryFocus:p=!1,...f}=e,v=s.useRef(null),g=P(t,v),m=z(r),[h=null,C]=q({prop:a,defaultProp:u,onChange:d}),[b,R]=s.useState(!1),E=G(i),T=Z(n),A=s.useRef(!1),[me,$]=s.useState(0);return s.useEffect(()=>{const x=v.current;if(x)return x.addEventListener(O,E),()=>x.removeEventListener(O,E)},[E]),l.jsx(je,{scope:n,orientation:o,dir:m,loop:c,currentTabStopId:h,onItemFocus:s.useCallback(x=>C(x),[C]),onItemShiftTab:s.useCallback(()=>R(!0),[]),onFocusableItemAdd:s.useCallback(()=>$(x=>x+1),[]),onFocusableItemRemove:s.useCallback(()=>$(x=>x-1),[]),children:l.jsx(y.div,{tabIndex:b||me===0?-1:0,"data-orientation":o,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:S(e.onMouseDown,()=>{A.current=!0}),onFocus:S(e.onFocus,x=>{const pe=!A.current;if(x.target===x.currentTarget&&pe&&!b){const K=new CustomEvent(O,_e);if(x.currentTarget.dispatchEvent(K),!K.defaultPrevented){const F=T().filter(I=>I.focusable),ve=F.find(I=>I.active),ge=F.find(I=>I.id===h),be=[ve,ge,...F].filter(Boolean).map(I=>I.ref.current);te(be,p)}}A.current=!1}),onBlur:S(e.onBlur,()=>R(!1))})})}),X="RovingFocusGroupItem",ee=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:c=!1,tabStopId:r,...a}=e,u=Y(),d=r||u,i=De(X,n),p=i.currentTabStopId===d,f=Z(n),{onFocusableItemAdd:v,onFocusableItemRemove:g}=i;return s.useEffect(()=>{if(o)return v(),()=>g()},[o,v,g]),l.jsx(L.ItemSlot,{scope:n,id:d,focusable:o,active:c,children:l.jsx(y.span,{tabIndex:p?0:-1,"data-orientation":i.orientation,...a,ref:t,onMouseDown:S(e.onMouseDown,m=>{o?i.onItemFocus(d):m.preventDefault()}),onFocus:S(e.onFocus,()=>i.onItemFocus(d)),onKeyDown:S(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){i.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const h=ke(m,i.orientation,i.dir);if(h!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let b=f().filter(R=>R.focusable).map(R=>R.ref.current);if(h==="last")b.reverse();else if(h==="prev"||h==="next"){h==="prev"&&b.reverse();const R=b.indexOf(m.currentTarget);b=i.loop?Ve(b,R+1):b.slice(R+1)}setTimeout(()=>te(b))}})})})});ee.displayName=X;var Ue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ge(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ke(e,t,n){const o=Ge(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Ue[o]}function te(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function Ve(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var $e=Q,Ke=ee;function We(e,t){return s.useReducer((n,o)=>t[n][o]??n,e)}var ne=e=>{const{present:t,children:n}=e,o=Be(t),c=typeof n=="function"?n({present:o.isPresent}):s.Children.only(n),r=P(o.ref,He(c));return typeof n=="function"||o.isPresent?s.cloneElement(c,{ref:r}):null};ne.displayName="Presence";function Be(e){const[t,n]=s.useState(),o=s.useRef({}),c=s.useRef(e),r=s.useRef("none"),a=e?"mounted":"unmounted",[u,d]=We(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const i=w(o.current);r.current=u==="mounted"?i:"none"},[u]),D(()=>{const i=o.current,p=c.current;if(p!==e){const v=r.current,g=w(i);e?d("MOUNT"):g==="none"||i?.display==="none"?d("UNMOUNT"):d(p&&v!==g?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,d]),D(()=>{if(t){const i=f=>{const g=w(o.current).includes(f.animationName);f.target===t&&g&&Re.flushSync(()=>d("ANIMATION_END"))},p=f=>{f.target===t&&(r.current=w(o.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:s.useCallback(i=>{i&&(o.current=getComputedStyle(i)),n(i)},[])}}function w(e){return e?.animationName||"none"}function He(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var k="Tabs",[Ye,et]=U(k,[J]),oe=J(),[qe,V]=Ye(k),re=s.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:c,defaultValue:r,orientation:a="horizontal",dir:u,activationMode:d="automatic",...i}=e,p=z(u),[f,v]=q({prop:o,onChange:c,defaultProp:r});return l.jsx(qe,{scope:n,baseId:Y(),value:f,onValueChange:v,orientation:a,dir:p,activationMode:d,children:l.jsx(y.div,{dir:p,"data-orientation":a,...i,ref:t})})});re.displayName=k;var se="TabsList",ce=s.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0,...c}=e,r=V(se,n),a=oe(n);return l.jsx($e,{asChild:!0,...a,orientation:r.orientation,dir:r.dir,loop:o,children:l.jsx(y.div,{role:"tablist","aria-orientation":r.orientation,...c,ref:t})})});ce.displayName=se;var ae="TabsTrigger",ie=s.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:c=!1,...r}=e,a=V(ae,n),u=oe(n),d=de(a.baseId,o),i=fe(a.baseId,o),p=o===a.value;return l.jsx(Ke,{asChild:!0,...u,focusable:!c,active:p,children:l.jsx(y.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":i,"data-state":p?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:d,...r,ref:t,onMouseDown:S(e.onMouseDown,f=>{!c&&f.button===0&&f.ctrlKey===!1?a.onValueChange(o):f.preventDefault()}),onKeyDown:S(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(o)}),onFocus:S(e.onFocus,()=>{const f=a.activationMode!=="manual";!p&&!c&&f&&a.onValueChange(o)})})})});ie.displayName=ae;var ue="TabsContent",le=s.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:c,children:r,...a}=e,u=V(ue,n),d=de(u.baseId,o),i=fe(u.baseId,o),p=o===u.value,f=s.useRef(p);return s.useEffect(()=>{const v=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(v)},[]),l.jsx(ne,{present:c||p,children:({present:v})=>l.jsx(y.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:i,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:v&&r})})});le.displayName=ue;function de(e,t){return`${e}-trigger-${t}`}function fe(e,t){return`${e}-content-${t}`}var ze=re,Ze=ce,W=ie,B=le;const tt=e=>{const{images:t,verses:n}=e,o=s.useMemo(()=>new URLSearchParams(window.location.search).get("tab"),[]),c=r=>{const a=new URL(window.location.href);a.searchParams.set("tab",r),window.history.pushState(null,"",a.toString())};return l.jsxs(ze,{className:"tabbed-document-index",defaultValue:o||"verses",onValueChange:c,children:[l.jsxs(Ze,{className:"tabs-list",children:[l.jsxs(W,{value:"verses",children:["Sanskrit Verses (",n.length,")"]}),l.jsxs(W,{value:"images",children:["Images (",t.length,")"]})]}),l.jsx(B,{className:"tabs-content",value:"verses",children:l.jsx("ul",{children:n.map(r=>l.jsxs("li",{children:[l.jsx("a",{href:`verse/${r.slug}`,children:r.title}),r.annotations===0&&l.jsx("span",{className:"work-in-progress",children:"WORK IN PROGRESS"})]},r.slug))})}),l.jsx(B,{className:"tabs-content",value:"images",children:l.jsx("ul",{children:t.map(r=>l.jsxs("li",{children:[l.jsx("a",{href:`image/${r.slug}`,children:r.title}),r.annotations===0&&l.jsx("span",{className:"work-in-progress",children:"WORK IN PROGRESS"})]},r.slug))})})]})};export{tt as TabbedDocumentIndex};
